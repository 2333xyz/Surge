[General]
# ipv6
ipv6 = false
# ipv6 vif
ipv6-vif = disabled
# æ¸¸æˆä¼˜åŒ–
udp-priority = true
# å¢å¼ºç‰ˆwifiåŠ©ç†
wifi-assist = false
# æ··åˆç½‘ç»œ
all-hybrid = false
# dns
dns-server = 223.5.5.5, 223.6.6.6, system
# åŠ å¯†dns
#encrypted-dns-server = quic://dns.alidns.com:853
# æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# é‡åˆ°rejectç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# å…è®¸wifiè®¿é—®
allow-wifi-access = false
# å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®
allow-hotspot-access = false
# ç›´è¿å»¶è¿Ÿæµ‹è¯•åœ°å€
internet-test-url = http://wifi.vivo.com.cn/generate_204
# ä»£ç†å»¶è¿Ÿæµ‹è¯•åœ°å€
proxy-test-url = http://www.gstatic.com/generate_204
# å»¶è¿Ÿæµ‹è¯•è¶…æ—¶æ—¶é—´
test-timeout = 3
# geoipåº“
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# geoipè‡ªåŠ¨æ›´æ–°
disable-geoip-db-auto-update = false
# å½“ UDP æµé‡ä¸ä¸æ”¯æŒ UDP çš„ç­–ç•¥åŒ¹é…æ—¶æ§åˆ¶å›é€€è¡Œä¸ºï¼ˆé»˜è®¤ç›´è¿ï¼Œå¯ä¿®æ”¹ä¸ºé˜»æ­¢ä»¥é¿å…æ½œåœ¨çš„éšç§æ³„æ¼éšæ‚£ï¼‰
udp-policy-not-supported-behaviour = REJECT
# æ—¥å¿—ç­‰çº§
loglevel = notify
# http api webæ§åˆ¶å™¨
http-api-web-dashboard = true
# http api ä½¿ç”¨httpsåè®®
http-api-tls = false
# http apiï¼ˆé€‰æ‹©å…è®¸ç”±wifiæ§åˆ¶çš„è¯åœ°å€ä¸º0.0.0.0ï¼Œä»…æœ¬åœ°æ§åˆ¶åœ°å€ä¸º127.0.0.1ï¼‰ä½¿ç”¨æ–¹æ³•ï¼šæµè§ˆå™¨åœ°å€è¾“å…¥127.0.0.1:6171
http-api = 2333@127.0.0.1:6171
# è¿œç¨‹æ§åˆ¶å™¨
external-controller-access = 2333@127.0.0.1:6170

[Proxy Group]
# å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ›´æ”¹
PROXY = select, policy-path=æœºåœºè®¢é˜…é“¾æ¥
FINAL = select, PROXY, DIRECT
Apple = select, PROXY, DIRECT
Microsoft = select, PROXY, DIRECT
PayPal = select, PROXY, DIRECT
YouTube = select, PROXY, DIRECT
Spotify = select, PROXY, DIRECT
Imgur = select, PROXY, DIRECT
YouTube Comment = select, PROXY, DIRECT
OpenAI = select, PROXY, DIRECT
Google = select, PROXY, DIRECT
Telegram = select, PROXY, DIRECT
Speedtest = select, PROXY, DIRECT
Fallback = fallback, PROXY, DIRECT

[Rule]
# å»å¹¿å‘Šï¼ˆéœ€è¦å…ˆå®‰è£…æ¨¡å—ï¼šhttps://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/modules/script-hub.surge.sgmoduleï¼‰
RULE-SET,http://script.hub/file/_start_/https://raw.githubusercontent.com/RuCu6/QuanX/main/Rules/MyBlockAds.list/_end_/MyBlockAds.list?type=rule-set&target=surge-rule-set&x=passport.bilibili.com%2Bmall.bilibili.com&nore=true,REJECT
DOMAIN-SET,https://anti-ad.net/surge2.txt,REJECT
# å›½å†…è§„åˆ™
OR,((RULE-SET,SYSTEM), (RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple.list), (DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_Domain.list)),Apple // Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/WeChat/WeChat.list,DIRECT
# å›½å¤–è§„åˆ™
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,Telegram
RULE-SET,https://raw.githubusercontent.com/2333xyz/Surge/main/rule/YouTube_Comment.list,YouTube Comment
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google
OR,((RULE-SET,https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Rule/OpenAI.list), (DOMAIN,api.revenuecat.com)),OpenAI // OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Imgur/Imgur.list,Imgur
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,PayPal
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list,Speedtest
OR,((RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global.list),(DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list)),FINAL // Global
# LANã€GEOIP
OR,((RULE-SET,LAN), (GEOIP,CN)),DIRECT
# ç”±äºå›½å†…ä¸€äº›appæ¯”å¦‚ç¾å›¢äº¬ä¸œç»å¸¸è¯·æ±‚ä¸€äº›dnsè§£æå¤±è´¥çš„åŸŸåï¼Œå¯¼è‡´è§„åˆ™èµ°äº†finalï¼Œæ•…åé¢ä¸åŠ dns-failed
FINAL,FINAL

[Host]
# å›½å†…ç›´è¿è‹¹æœæœåŠ¡å™¨é€Ÿåº¦å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ï¼Œæœ‰æ—¶å€™ç”šè‡³ä¼šæ— æ³•ç™»å½•è‹¹æœå•†åº—ã€‚å¯ä»¥å°è¯•å…ˆç”¨è‹¹æœçš„dohï¼Œæ‰¾åˆ°ä¸€æ¡ç›´è¿èƒ½è¿ä¸Šçš„ipå†æ·»åŠ åˆ°æœ¬åœ°dnsæ˜ å°„ã€‚æˆ–è€…ç›´æ¥èµ°ä»£ç†ä¹Ÿè¡Œã€‚
# App Storeç™»å½•åŠ é€Ÿ
p*-buy.itunes.apple.com = 17.120.252.46
buy.itunes.apple.com = 17.120.252.46
# App Storeä¸‹è½½åŠ é€Ÿ
iosapps.itunes.apple.com = 17.253.85.201
# æ ¡å›­å†…ç½‘äº¤ç”±ç³»ç»Ÿdnsè§£æ
*.edu.cn = server:syslib

[MITM]
# è·³è¿‡è¯ä¹¦éªŒè¯å…³é—­çš„è¯æœ‰æ¦‚ç‡ä¼šå¯¼è‡´ç½‘æ˜“äº‘éŸ³ä¹æ¨¡å—æŠ¥é”™ï¼Œæ‰“å¼€çš„è¯ä¹Ÿå¯èƒ½ä¼šå­˜åœ¨é‚£ä¹ˆä¸€ç‚¹ç‚¹çš„é£é™©ğŸ¤ï¼Œéœ€è¦è‡ªè¡Œè¡¡é‡åˆ©å¼Šã€‚
skip-server-cert-verify = true
h2 = true

# å…è®¸å°† MITM çš„ CA è¯ä¹¦æ”¾ç½®åˆ° [Keystore] æ®µ
#[MITM]
#ca-keystore-name = ca
#[Keystore]
#ca = type = p12, base64 = MIIâ€¦, password = pw
#æ”¾è¿› Keystore æ®µçš„ CAï¼Œå¯ä»¥åœ¨æ›´å¤š-å¯†é’¥åº“ä¸­ï¼Œå·¦æ»‘ç›¸åº”çš„é¡¹ç›®ï¼Œç§»åŠ¨åˆ°é’¥åŒ™ä¸²ä¿å­˜